{"version":3,"file":"index.js","sources":["../../src/utils/config.js","../../src/core/Transaction.js","../../src/widget/PayButton.jsx","../../src/widget/Dialog.jsx","../../src/core/TokenSelector.js","../../src/contexts/NetworkContext.jsx","../../src/widget/NetworkDropdown.jsx","../../src/widget/TokenDropdown.jsx","../../src/contexts/chains.js","../../src/contexts/WalletContext.jsx","../../src/widget/TransactionReview.jsx","../../src/widget/Widget.jsx","../../src/index.js","../../src/core/NetworkSelector.js","../../src/core/MerchantConfig.js"],"sourcesContent":["// src/utils/config.js\nexport const networksConfig = {\n  'sepolia': {\n    uri: 'https://ethereum-sepolia.publicnode.com/',\n    chainId: 11155111,\n    djedAddress: '0x624FcD0a1F9B5820c950FefD48087531d38387f4',\n    tokens: {\n      stablecoin: {\n        symbol: 'SOD',\n        address: '0x6b930182787F346F18666D167e8d32166dC5eFBD',\n        decimals: 18,\n        isDirectTransfer: true\n      },\n      native: {\n        symbol: 'ETH',\n        decimals: 18,\n        isNative: true\n      }\n    },\n    feeUI: 0\n  },\n  'milkomeda-mainnet': {\n    uri: 'https://rpc-mainnet-cardano-evm.c1.milkomeda.com',\n    chainId: 2001,\n    djedAddress: '0x67A30B399F5Ed499C1a6Bc0358FA6e42Ea4BCe76',\n    tokens: {\n      stablecoin: {\n        symbol: 'MOD',\n        address: '0xcbA90fB1003b9D1bc6a2b66257D2585011b004e9',\n        decimals: 18,\n        isDirectTransfer: true\n      },\n      native: {\n        symbol: 'mADA',\n        decimals: 18,\n        isNative: true\n      }\n    },\n    feeUI: 0\n  },\n  'ethereum-classic': {\n    uri: 'https://etc.rivet.link',\n    chainId: 61,\n    djedAddress: '0xCc3664d7021FD36B1Fe2b136e2324710c8442cCf',\n    tokens: {\n      stablecoin: {\n        symbol: 'ECSD',\n        address: '0x5A7Ca94F6E969C94bef4CE5e2f90ed9d4891918A',\n        decimals: 18,\n        isDirectTransfer: true\n      },\n      native: {\n        symbol: 'ETC',\n        decimals: 18,\n        isNative: true\n      }\n    },\n    feeUI: 0\n  }\n};","import { getWeb3, getDjedContract, getCoinContracts, getDecimals, getOracleAddress, getOracleContract, tradeDataPriceBuySc, buyScTx, checkAllowance, approveTx, buyScIsisTx } from 'djed-sdk';\nimport coinArtifact from 'djed-sdk/src/artifacts/CoinABI.json'; // Importing CoinABI from SDK\n\nexport class Transaction {\n  constructor(networkUri, djedAddress, baseAssetAddress = null) {\n    this.networkUri = networkUri;\n    this.djedAddress = djedAddress;\n    this.baseAssetAddress = baseAssetAddress; // Address of the ERC20 Base Asset (optional)\n  }\n\n  async init() {\n    if (!this.networkUri || !this.djedAddress) {\n      throw new Error('Network URI and DJED address are required');\n    }\n\n    try {\n      this.web3 = await getWeb3(this.networkUri);\n      this.djedContract = getDjedContract(this.web3, this.djedAddress);\n\n      if (this.baseAssetAddress) {\n        // Initialize Base Asset contract if provided\n        this.baseAssetContract = new this.web3.eth.Contract(coinArtifact.abi, this.baseAssetAddress);\n      }\n      \n      try {\n      const { stableCoin, reserveCoin } = await getCoinContracts(this.djedContract, this.web3);\n      const { scDecimals, rcDecimals } = await getDecimals(stableCoin, reserveCoin);\n      this.stableCoin = stableCoin;\n      this.reserveCoin = reserveCoin;\n      this.scDecimals = scDecimals;\n      this.rcDecimals = rcDecimals;\n\n      this.oracleContract = await getOracleAddress(this.djedContract).then((addr) =>\n        getOracleContract(this.web3, addr, this.djedContract._address)\n      );\n\n      this.oracleAddress = this.oracleContract._address;\n      } catch (contractError) {\n        console.error('[Transaction] Error fetching contract details:', contractError);\n        if (contractError.message && contractError.message.includes('execution reverted')) {\n          const getNetworkInfo = (uri) => {\n            if (uri.includes('milkomeda')) return { name: 'Milkomeda', chainId: '2001' };\n            if (uri.includes('mordor')) return { name: 'Mordor Testnet', chainId: '63' };\n            if (uri.includes('sepolia')) return { name: 'Sepolia', chainId: '11155111' };\n            if (uri.includes('etc.rivet.link')) return { name: 'Ethereum Classic', chainId: '61' };\n            return { name: 'the selected network', chainId: 'unknown' };\n          };\n          const { name: networkName, chainId } = getNetworkInfo(this.networkUri);\n          throw new Error(\n            `Failed to interact with Djed contract at ${this.djedAddress} on ${networkName}.\\n\\n` +\n            `Possible causes:\\n` +\n            `- The contract address may be incorrect\\n` +\n            `- The contract may not be deployed on ${networkName}\\n` +\n            `- The contract may not be a valid Djed contract\\n\\n` +\n            `Please verify the contract address is correct for ${networkName} (Chain ID: ${chainId}).`\n          );\n        }\n        throw contractError;\n      }\n    } catch (error) {\n      console.error('[Transaction] Error initializing transaction:', error);\n      if (error.message && (error.message.includes('CONNECTION ERROR') || error.message.includes('ERR_NAME_NOT_RESOLVED'))) {\n        const getNetworkName = (uri) => {\n          if (uri.includes('milkomeda')) return 'Milkomeda';\n          if (uri.includes('mordor')) return 'Mordor';\n          if (uri.includes('sepolia')) return 'Sepolia';\n          return 'the selected network';\n        };\n        const networkName = getNetworkName(this.networkUri);\n        throw new Error(\n          `Failed to connect to ${networkName} RPC endpoint: ${this.networkUri}\\n\\n` +\n          `Possible causes:\\n` +\n          `- The RPC endpoint may be temporarily unavailable\\n` +\n          `- DNS resolution issue (check your internet connection)\\n` +\n          `- Network firewall blocking the connection\\n\\n` +\n          `Please try again in a few moments or check the network status.`\n        );\n      }\n      throw error;\n    }\n  }\n\n  getBlockchainDetails() {\n    return {\n      web3Available: !!this.web3,\n      djedContractAvailable: !!this.djedContract,\n      stableCoinAddress: this.stableCoin ? this.stableCoin._address : 'N/A',\n      reserveCoinAddress: this.reserveCoin ? this.reserveCoin._address : 'N/A',\n      stableCoinDecimals: this.scDecimals,\n      reserveCoinDecimals: this.rcDecimals,\n      oracleAddress: this.oracleAddress || 'N/A',\n      oracleContractAvailable: !!this.oracleContract,\n    };\n  }\n\n  async handleTradeDataBuySc(amountScaled) {\n    if (!this.djedContract) {\n      throw new Error(\"DJED contract is not initialized\");\n    }\n    if (typeof amountScaled !== 'string') {\n      throw new Error(\"Amount must be a string\");\n    }\n    try {\n      const result = await tradeDataPriceBuySc(this.djedContract, this.scDecimals, amountScaled);\n      return result.totalBCScaled;\n    } catch (error) {\n      console.error(\"Error fetching trade data for buying stablecoins: \", error);\n      throw error;\n    }\n  }\n\n  async buyStablecoins(payer, receiver, value) {\n    if (!this.djedContract) {\n      throw new Error(\"DJED contract is not initialized\");\n    }\n    try {\n      const UI = '0x0232556C83791b8291E9b23BfEa7d67405Bd9839';\n\n      if (this.baseAssetAddress) {\n        if (!this.baseAssetContract) {\n           throw new Error(\"Base Asset contract not initialized for ERC20 flow\");\n        }\n        return buyScIsisTx(this.djedContract, payer, receiver, value, UI, this.djedAddress);\n      } else {\n        return buyScTx(this.djedContract, payer, receiver, value, UI, this.djedAddress);\n      }\n    } catch (error) {\n      console.error(\"Error executing buyStablecoins transaction: \", error);\n      throw error;\n    }\n  }\n\n  async approveBaseAsset(payer, amount) {\n    if (!this.baseAssetContract) {\n      throw new Error(\"No Base Asset contract to approve\");\n    }\n    return approveTx(this.baseAssetContract, payer, this.djedAddress, amount);\n  }\n\n  async checkBaseAssetAllowance(owner) {\n     if (!this.baseAssetContract) {\n        return 'Inf'; \n     }\n     return checkAllowance(this.baseAssetContract, owner, this.djedAddress);\n  }\n}\n","import React from \"react\";\nimport styles from \"../styles/main.css\";\n\nconst PayButton = ({ onClick, size = \"medium\" }) => {\n  const sizeStyles = {\n    small: { width: \"200px\", height: \"50px\", fontSize: \"14px\" },\n    medium: { width: \"250px\", height: \"60px\", fontSize: \"16px\" },\n    large: { width: \"300px\", height: \"70px\", fontSize: \"18px\" },\n  };\n\n  const logoSizes = {\n    small: { width: \"35px\", height: \"33px\" },\n    medium: { width: \"40px\", height: \"38px\" },\n    large: { width: \"45px\", height: \"43px\" },\n  };\n\n  const buttonStyle = sizeStyles[size] || sizeStyles.medium;\n  const logoStyle = logoSizes[size] || logoSizes.medium;\n\n  return (\n    <button\n      className={styles.stablePayButton}\n      onClick={onClick}\n      style={buttonStyle}\n    >\n      <div className={styles.logo} style={logoStyle} />\n      <span className={styles.buttonText}>Pay with StablePay</span>\n    </button>\n  );\n};\n\nexport default PayButton;\n","import React from 'react';\nimport styles from '../styles/PricingCard.css';\n\n\nconst Dialog = ({ children, onClose, size = 'medium' }) => {\n  return (\n    <div className={styles.dialogOverlay}>\n      <div className={`${styles.pricingCard} ${styles[size]}`}>\n        <button className={styles.dialogClose} onClick={onClose}>×</button>\n        <div className={styles.pricingCardHeader}>\n        <div className={styles.allianceLogo}></div>\n\n          <h2 className={styles.stablepayTitle}>StablePay</h2>\n        </div>\n        <div className={styles.pricingCardBody}>\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dialog;","// TokenSelector.js\n\nexport class TokenSelector {\n  constructor(networkSelector) {\n    this.networkSelector = networkSelector;\n    this.selectedToken = null;\n  }\n\n  selectToken(tokenKey) {\n    const networkConfig = this.networkSelector.getSelectedNetworkConfig();\n    if (networkConfig && networkConfig.tokens[tokenKey]) {\n      this.selectedToken = {\n        key: tokenKey,\n        ...networkConfig.tokens[tokenKey]\n      };\n      return true;\n    }\n    return false;\n  }\n\n  getSelectedToken() {\n    return this.selectedToken;\n  }\n\n  getAvailableTokens() {\n    const networkConfig = this.networkSelector.getSelectedNetworkConfig();\n    if (!networkConfig) return [];\n\n    return Object.entries(networkConfig.tokens).map(([key, config]) => ({\n      key,\n      ...config\n    }));\n  }\n\n  resetSelection() {\n    this.selectedToken = null;\n  }\n}","import React, { createContext, useState, useContext, useEffect } from 'react';\nimport { TokenSelector } from '../core/TokenSelector';\n\nconst NetworkContext = createContext();\n\nexport const NetworkProvider = ({ children, networkSelector }) => {\n  const [tokenSelector] = useState(() => new TokenSelector(networkSelector));\n  const [selectedNetwork, setSelectedNetwork] = useState(null);\n  const [selectedToken, setSelectedToken] = useState(null);\n  const [transactionDetails, setTransactionDetails] = useState(null);\n\n  const resetState = () => {\n    setSelectedToken(null);\n    setTransactionDetails(null);\n  };\n\n  const selectNetwork = (networkKey) => {\n    if (networkSelector.selectNetwork(networkKey)) {\n      setSelectedNetwork(networkKey);\n      resetState(); \n      return true;\n    }\n    return false;\n  };\n\n  const selectToken = (tokenKey) => {\n    if (tokenSelector.selectToken(tokenKey)) {\n      const token = tokenSelector.getSelectedToken();\n      setSelectedToken(token);\n      return true;\n    }\n    return false;\n  };\n\n  const resetSelections = () => {\n    networkSelector.selectNetwork(null);\n    setSelectedNetwork(null);\n    resetState();\n  };\n\n  // Synchronize context state with NetworkSelector\n  useEffect(() => {\n    setSelectedNetwork(networkSelector.selectedNetwork);\n  }, [networkSelector.selectedNetwork]);\n\n  return (\n    <NetworkContext.Provider value={{ \n      networkSelector,\n      tokenSelector,\n      selectedNetwork,\n      selectedToken,\n      transactionDetails,\n      setTransactionDetails,\n      selectNetwork,\n      selectToken,\n      resetSelections\n    }}>\n      {children}\n    </NetworkContext.Provider>\n  );\n};\n\nexport const useNetwork = () => {\n  const context = useContext(NetworkContext);\n  if (context === undefined) {\n    throw new Error('useNetwork must be used within a NetworkProvider');\n  }\n  return context;\n};\n\nexport default NetworkContext;","import React from 'react';\nimport { useNetwork } from '../contexts/NetworkContext';\nimport styles from '../styles/PricingCard.css';\n\nconst NetworkDropdown = () => {\n  const { networkSelector, selectedNetwork, selectNetwork } = useNetwork();\n\n  const handleNetworkChange = (event) => {\n    selectNetwork(event.target.value);\n  };\n\n  return (\n    <div className={styles.selectField}>\n      <label htmlFor=\"network-select\">Select Network</label>\n      <select \n        id=\"network-select\"\n        onChange={handleNetworkChange} \n        value={selectedNetwork || \"\"}\n      >\n        <option value=\"\" disabled>Select a network</option>\n        {Object.keys(networkSelector.availableNetworks).map((networkKey) => (\n          <option key={networkKey} value={networkKey}>{networkKey}</option>\n        ))}\n      </select>\n    </div>\n  );\n};\n\nexport default NetworkDropdown;","import React, { useState } from \"react\";\nimport { useNetwork } from \"../contexts/NetworkContext\";\nimport { Transaction } from \"../core/Transaction\";\nimport styles from \"../styles/PricingCard.css\";\n\nconst TokenDropdown = () => {\n  const {\n    networkSelector,\n    tokenSelector,\n    selectedNetwork,\n    selectedToken,\n    selectToken,\n    setTransactionDetails,\n  } = useNetwork();\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleTokenChange = async (event) => {\n    const newValue = event.target.value;\n    setError(null);\n    setLoading(true);\n\n    try {\n      if (selectToken(newValue)) {\n        const networkConfig = networkSelector.getSelectedNetworkConfig();\n        const transaction = new Transaction(\n          networkConfig.uri,\n          networkConfig.djedAddress\n        );\n        await transaction.init();\n\n        const tokenAmount = networkSelector.getTokenAmount(newValue);\n        const blockchainDetails = transaction.getBlockchainDetails();\n\n        let tradeData = null;\n        if (newValue === \"native\") {\n          tradeData = await transaction.handleTradeDataBuySc(\n            String(tokenAmount)\n          );\n        }\n\n        setTransactionDetails({\n          network: selectedNetwork,\n          token: newValue,\n          tokenSymbol: tokenSelector.getSelectedToken().symbol,\n          amount: tokenAmount,\n          receivingAddress: networkSelector.getReceivingAddress(),\n          djedContractAddress: networkConfig.djedAddress,\n          isDirectTransfer:\n            tokenSelector.getSelectedToken().isDirectTransfer || false,\n          isNativeToken: tokenSelector.getSelectedToken().isNative || false,\n          tradeAmount: tradeData ? tradeData.amount : null,\n          ...blockchainDetails,\n        });\n      }\n    } catch (err) {\n      console.error(\"Error fetching transaction details:\", err);\n      setError(\"Failed to fetch transaction details. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const availableTokens = selectedNetwork\n    ? tokenSelector.getAvailableTokens()\n    : [];\n\n  return (\n    <div className={styles.selectField}>\n      <label htmlFor=\"token-select\">Select Token</label>\n      <select\n        id=\"token-select\"\n        onChange={handleTokenChange}\n        value={selectedToken ? selectedToken.key : \"\"}\n        disabled={!selectedNetwork || loading}\n      >\n        <option value=\"\" disabled>\n          {selectedNetwork\n            ? loading\n              ? \"Loading...\"\n              : \"Select a token\"\n            : \"Please select a network first\"}\n        </option>\n        {availableTokens.map((token) => (\n          <option key={token.key} value={token.key}>\n            {token.symbol} (\n            {token.isDirectTransfer ? \"Direct Transfer\" : \"Native\"})\n          </option>\n        ))}\n      </select>\n      {error && <div className={styles.error}>{error}</div>}\n    </div>\n  );\n};\n\nexport default TokenDropdown;\n","import { defineChain } from 'viem';\nimport { sepolia } from 'viem/chains';\n\nexport const mordor = defineChain({\n  id: 63,\n  name: 'Mordor Testnet',\n  network: 'mordor',\n  nativeCurrency: {\n    decimals: 18,\n    name: 'Mordor Ether',\n    symbol: 'METC',\n  },\n  rpcUrls: {\n    default: {\n      http: ['https://rpc.mordor.etccooperative.org'],\n      webSocket: ['wss://rpc.mordor.etccooperative.org/ws'],\n    },\n  },\n  blockExplorers: {\n    default: { name: 'BlockScout', url: 'https://blockscout.com/etc/mordor' },\n  },\n  testnet: true,\n});\n\nexport const milkomeda = defineChain({\n  id: 2001,\n  name: 'Milkomeda C1 Mainnet',\n  network: 'milkomeda',\n  nativeCurrency: {\n    decimals: 18,\n    name: 'Milkomeda ADA',\n    symbol: 'mADA',\n  },\n  rpcUrls: {\n    default: {\n      http: ['https://rpc-mainnet-cardano-evm.c1.milkomeda.com'],\n    },\n  },\n  blockExplorers: {\n    default: { name: 'Milkomeda Explorer', url: 'https://explorer-mainnet-cardano-evm.c1.milkomeda.com' },\n  },\n  testnet: false,\n});\n\nexport const etcMainnet = defineChain({\n  id: 61,\n  name: 'Ethereum Classic',\n  network: 'etc',\n  nativeCurrency: {\n    decimals: 18,\n    name: 'Ethereum Classic',\n    symbol: 'ETC',\n  },\n  rpcUrls: {\n    default: {\n      http: ['https://etc.rivet.link'],\n    },\n  },\n  blockExplorers: {\n    default: { name: 'Blockscout', url: 'https://blockscout.com/etc/mainnet' },\n  },\n  testnet: false,\n});\n\nexport const getChainByNetworkKey = (networkKey) => {\n  switch (networkKey) {\n    case 'sepolia':\n      return sepolia;\n    case 'ethereum-classic':\n      return etcMainnet;\n    case 'milkomeda-mainnet':\n      return milkomeda;\n    default:\n      return null;\n  }\n};\n\nexport const getChainConfigForWallet = (networkKey) => {\n  switch (networkKey) {\n    case 'sepolia':\n      return {\n        chainId: `0x${sepolia.id.toString(16)}`,\n        chainName: 'Sepolia',\n        nativeCurrency: {\n          name: 'Ether',\n          symbol: 'ETH',\n          decimals: 18,\n        },\n        rpcUrls: sepolia.rpcUrls.default.http,\n        blockExplorerUrls: sepolia.blockExplorers?.default?.url ? [sepolia.blockExplorers.default.url] : [],\n      };\n    case 'ethereum-classic':\n      return {\n        chainId: `0x${etcMainnet.id.toString(16)}`,\n        chainName: 'Ethereum Classic',\n        nativeCurrency: {\n          name: 'Ethereum Classic',\n          symbol: 'ETC',\n          decimals: 18,\n        },\n        rpcUrls: ['https://etc.rivet.link'],\n        blockExplorerUrls: ['https://blockscout.com/etc/mainnet'],\n      };\n    case 'milkomeda-mainnet':\n      return {\n        chainId: `0x${milkomeda.id.toString(16)}`,\n        chainName: 'Milkomeda C1 Mainnet',\n        nativeCurrency: {\n          name: 'Milkomeda ADA',\n          symbol: 'mADA',\n          decimals: 18,\n        },\n        rpcUrls: ['https://rpc-mainnet-cardano-evm.c1.milkomeda.com'],\n        blockExplorerUrls: ['https://explorer-mainnet-cardano-evm.c1.milkomeda.com'],\n      };\n    default:\n      return null;\n  }\n};\n","import React, { createContext, useContext, useState, useCallback, useEffect, useRef } from 'react';\nimport { createWalletClient, createPublicClient, custom, http } from 'viem';\nimport { useNetwork } from './NetworkContext';\nimport { getChainByNetworkKey, getChainConfigForWallet } from './chains';\n\nconst WalletContext = createContext(null);\n\nexport const useWallet = () => {\n  const context = useContext(WalletContext);\n  if (!context) {\n    throw new Error('useWallet must be used within a WalletProvider');\n  }\n  return context;\n};\n\nconst switchToNetwork = async (networkKey) => {\n  if (!window.ethereum) {\n    throw new Error('MetaMask not installed');\n  }\n\n  const chainConfig = getChainConfigForWallet(networkKey);\n  if (!chainConfig) {\n    throw new Error(`Unsupported network: ${networkKey}`);\n  }\n\n  try {\n    await window.ethereum.request({\n      method: 'wallet_switchEthereumChain',\n      params: [{ chainId: chainConfig.chainId }],\n    });\n  } catch (switchError) {\n    if (switchError.code === 4902) {\n      try {\n        await window.ethereum.request({\n          method: 'wallet_addEthereumChain',\n          params: [chainConfig],\n        });\n      } catch (addError) {\n        if (addError.code === 4001) {\n          throw new Error(`User rejected adding ${chainConfig.chainName} to MetaMask. Please add it manually.`);\n        }\n        throw new Error(`Failed to add ${chainConfig.chainName} to MetaMask: ${addError.message}`);\n      }\n    } else if (switchError.code === 4001) {\n      throw new Error(`User rejected switching to ${chainConfig.chainName}. Please switch manually in MetaMask.`);\n    } else {\n      throw new Error(`Failed to switch to ${chainConfig.chainName}: ${switchError.message}`);\n    }\n  }\n};\n\nexport const WalletProvider = ({ children }) => {\n  const { selectedNetwork } = useNetwork();\n  const [walletClient, setWalletClient] = useState(null);\n  const [publicClient, setPublicClient] = useState(null);\n  const [account, setAccount] = useState(null);\n  const [chainId, setChainId] = useState(null);\n  const [balance, setBalance] = useState(null);\n  const [error, setError] = useState(null);\n  const [isConnecting, setIsConnecting] = useState(false);\n\n  const selectedChain = selectedNetwork ? getChainByNetworkKey(selectedNetwork) : null;\n  const expectedChainId = selectedChain ? selectedChain.id : null;\n\n  const handleAccountsChangedRef = useRef(null);\n  const handleChainChangedRef = useRef(null);\n\n  const disconnectWalletInternal = useCallback(() => {\n    setWalletClient(null);\n    setPublicClient(null);\n    setAccount(null);\n    setChainId(null);\n    setBalance(null);\n    setError(null);\n  }, []);\n\n  const handleChainChanged = useCallback(async (chainIdHex) => {\n    const newChainId = parseInt(chainIdHex, 16);\n    setChainId(newChainId);\n\n    if (selectedChain && newChainId === expectedChainId) {\n      setError(null);\n      if (window.ethereum && selectedChain) {\n        const newWalletClient = createWalletClient({ \n          chain: selectedChain, \n          transport: custom(window.ethereum) \n        });\n        setWalletClient(newWalletClient);\n      }\n    } else if (selectedChain && newChainId !== expectedChainId) {\n      const chainName = selectedChain?.name || selectedNetwork || 'selected network';\n      setError(`Wrong network detected. Please switch to ${chainName}`);\n    }\n  }, [selectedChain, expectedChainId, selectedNetwork]);\n\n  handleChainChangedRef.current = handleChainChanged;\n\n  const handleAccountsChanged = useCallback(async (accounts) => {\n    if (accounts.length === 0) {\n      disconnectWalletInternal();\n      if (window.ethereum) {\n        const accountsHandler = handleAccountsChangedRef.current;\n        const chainHandler = handleChainChangedRef.current;\n        if (accountsHandler) {\n          window.ethereum.removeListener('accountsChanged', accountsHandler);\n        }\n        if (chainHandler) {\n          window.ethereum.removeListener('chainChanged', chainHandler);\n        }\n      }\n    } else {\n      setAccount(accounts[0]);\n      if (selectedChain) {\n        try {\n          const newPublicClient = createPublicClient({ chain: selectedChain, transport: http() });\n          setPublicClient(newPublicClient);\n          const balance = await newPublicClient.getBalance({ address: accounts[0] });\n          setBalance(parseFloat(balance) / Math.pow(10, 18));\n        } catch (error) {\n          console.error('Error fetching balance:', error);\n          setBalance(null);\n        }\n      }\n    }\n  }, [selectedChain, disconnectWalletInternal]);\n\n  handleAccountsChangedRef.current = handleAccountsChanged;\n\n  const disconnectWallet = useCallback(() => {\n    disconnectWalletInternal();\n    if (window.ethereum) {\n      const accountsHandler = handleAccountsChangedRef.current;\n      const chainHandler = handleChainChangedRef.current;\n      if (accountsHandler) {\n        window.ethereum.removeListener('accountsChanged', accountsHandler);\n      }\n      if (chainHandler) {\n        window.ethereum.removeListener('chainChanged', chainHandler);\n      }\n    }\n  }, [disconnectWalletInternal]);\n\n  const connectPublicClient = useCallback(() => {\n    if (selectedChain) {\n      setPublicClient(createPublicClient({ chain: selectedChain, transport: http() }));\n    }\n  }, [selectedChain]);\n\n  const connectWallet = useCallback(async () => {\n    if (!window.ethereum) {\n      setError('Please install MetaMask or another Web3 wallet');\n      return false;\n    }\n\n    if (!selectedNetwork || !selectedChain) {\n      setError('Please select a network first');\n      return false;\n    }\n\n    setIsConnecting(true);\n    setError(null);\n\n    try {\n      const accounts = await window.ethereum.request({ \n        method: 'eth_requestAccounts' \n      });\n\n      if (accounts.length === 0) {\n        throw new Error('No wallet address found. Please unlock your wallet.');\n      }\n\n      const chainIdHex = await window.ethereum.request({ method: 'eth_chainId' });\n      const currentChainId = parseInt(chainIdHex, 16);\n\n      if (currentChainId !== expectedChainId) {\n        await switchToNetwork(selectedNetwork);\n      }\n\n      const newWalletClient = createWalletClient({\n        chain: selectedChain,\n        transport: custom(window.ethereum),\n      });\n\n      setWalletClient(newWalletClient);\n      setAccount(accounts[0]);\n      setChainId(expectedChainId);\n\n      const newPublicClient = createPublicClient({ chain: selectedChain, transport: http() });\n      setPublicClient(newPublicClient);\n      try {\n        const balance = await newPublicClient.getBalance({ address: accounts[0] });\n        setBalance(parseFloat(balance) / Math.pow(10, 18));\n      } catch (error) {\n        console.error('Error fetching balance:', error);\n        setBalance(null);\n      }\n\n      handleAccountsChangedRef.current = handleAccountsChanged;\n      handleChainChangedRef.current = handleChainChanged;\n      window.ethereum.on('accountsChanged', handleAccountsChanged);\n      window.ethereum.on('chainChanged', handleChainChanged);\n\n      return true;\n    } catch (err) {\n      console.error('Error connecting wallet:', err);\n      setError(err.message);\n      return false;\n    } finally {\n      setIsConnecting(false);\n    }\n  }, [selectedNetwork, selectedChain, expectedChainId, handleAccountsChanged, handleChainChanged]);\n\n  const ensureCorrectNetwork = useCallback(async () => {\n    if (!window.ethereum || !selectedNetwork || !selectedChain || !account) {\n      const errorMsg = 'Wallet not connected or network not selected';\n      setError(errorMsg);\n      return null;\n    }\n\n    try {\n      const chainIdHex = await window.ethereum.request({ method: 'eth_chainId' });\n      const currentChainId = parseInt(chainIdHex, 16);\n\n      if (currentChainId !== expectedChainId) {\n        setError(null);\n        await switchToNetwork(selectedNetwork);\n        const NETWORK_SWITCH_DELAY_MS = 500;\n        await new Promise(resolve => setTimeout(resolve, NETWORK_SWITCH_DELAY_MS));\n        \n        const newChainIdHex = await window.ethereum.request({ method: 'eth_chainId' });\n        const newChainId = parseInt(newChainIdHex, 16);\n        if (newChainId !== expectedChainId) {\n          throw new Error(`Failed to switch network. MetaMask is still on chain ${newChainId}, expected ${expectedChainId}`);\n        }\n      }\n\n      const freshWalletClient = createWalletClient({\n        chain: selectedChain,\n        transport: custom(window.ethereum),\n      });\n\n      setWalletClient(freshWalletClient);\n      setChainId(expectedChainId);\n      setError(null);\n      return freshWalletClient;\n    } catch (err) {\n      setError(err.message);\n      return null;\n    }\n  }, [selectedNetwork, selectedChain, expectedChainId, account]);\n\n  const prevNetworkRef = useRef(selectedNetwork);\n\n  useEffect(() => {\n    if (prevNetworkRef.current !== null && \n        prevNetworkRef.current !== selectedNetwork && \n        account) {\n      disconnectWalletInternal();\n      if (window.ethereum) {\n        const accountsHandler = handleAccountsChangedRef.current;\n        const chainHandler = handleChainChangedRef.current;\n        if (accountsHandler) {\n          window.ethereum.removeListener('accountsChanged', accountsHandler);\n        }\n        if (chainHandler) {\n          window.ethereum.removeListener('chainChanged', chainHandler);\n        }\n      }\n    }\n    prevNetworkRef.current = selectedNetwork;\n  }, [selectedNetwork, account, disconnectWalletInternal]);\n\n  useEffect(() => {\n    connectPublicClient();\n  }, [connectPublicClient]);\n\n  return (\n    <WalletContext.Provider\n      value={{\n        walletClient,\n        publicClient,\n        account,\n        chainId,\n        balance,\n        error,\n        isConnecting,\n        connectWallet,\n        disconnectWallet,\n        ensureCorrectNetwork,\n        expectedChainId,\n      }}\n    >\n      {children}\n    </WalletContext.Provider>\n  );\n};","import React, { useState, useEffect } from \"react\";\nimport { useNetwork } from \"../contexts/NetworkContext\";\nimport { useWallet } from \"../contexts/WalletContext\";\nimport { Transaction } from \"../core/Transaction\";\nimport { parseEther, encodeFunctionData, parseUnits } from \"viem\"; \nimport styles from \"../styles/PricingCard.css\"; \n\nconst TransactionReview = ({ onTransactionComplete }) => {\n  const {\n    networkSelector,\n    selectedNetwork,\n    selectedToken,\n    transactionDetails: contextTransactionDetails,\n    setTransactionDetails,\n  } = useNetwork();\n\n  const {\n    connectWallet,\n    account,\n    walletClient,\n    publicClient,\n    isConnecting,\n    ensureCorrectNetwork,\n    expectedChainId,\n  } = useWallet();\n\n  const [transaction, setTransaction] = useState(null);\n  const [tradeDataBuySc, setTradeDataBuySc] = useState(null);\n  const [txData, setTxData] = useState(null);\n  const [message, setMessage] = useState(\"\");\n  const [txHash, setTxHash] = useState(null);\n  const [error, setError] = useState(null);\n  const [isErrorDetailsVisible, setIsErrorDetailsVisible] = useState(false);\n\n  useEffect(() => {\n    setTxData(null);\n    setTradeDataBuySc(null);\n    setMessage(\"\");\n    setError(null);\n    setTxHash(null);\n  }, [selectedNetwork, selectedToken]);\n\n  useEffect(() => {\n    const initializeTransaction = async () => {\n      if (!selectedNetwork || !selectedToken) return;\n\n      try {\n        const networkConfig = networkSelector.getSelectedNetworkConfig();\n        const receivingAddress = networkSelector.getReceivingAddress();\n        const tokenAmount = networkSelector.getTokenAmount(selectedToken.key);\n\n        const newTransaction = new Transaction(\n          networkConfig.uri,\n          networkConfig.djedAddress\n        );\n        await newTransaction.init();\n        setTransaction(newTransaction);\n\n        let tradeData = null;\n        if (selectedToken.key === \"native\") {\n          try {\n            tradeData = await newTransaction.handleTradeDataBuySc(String(tokenAmount));\n            setTradeDataBuySc(tradeData);\n          } catch (tradeError) {\n            console.error(\"Error fetching trade data:\", tradeError);\n          }\n        }\n\n        setTransactionDetails({\n          network: selectedNetwork,\n          token: selectedToken.key,\n          tokenSymbol: selectedToken.symbol,\n          amount: tokenAmount || \"0\",\n          receivingAddress,\n          djedContractAddress: networkConfig.djedAddress,\n          isDirectTransfer: selectedToken.isDirectTransfer || false,\n          isNativeToken: selectedToken.isNative || false,\n          tradeAmount: tradeData ? tradeData.amount : null,\n          ...newTransaction.getBlockchainDetails(),\n        });\n      } catch (err) {\n        console.error(\"Error initializing transaction:\", err);\n      }\n    };\n\n    initializeTransaction();\n  }, [selectedNetwork, selectedToken, networkSelector, setTransactionDetails]);\n\n  if (!contextTransactionDetails) {\n    return <div className={styles.loading}>Initializing transaction...</div>;\n  }\n\n  const handleConnectWallet = async () => {\n    await connectWallet();\n  };\n\n  const handleSendTransaction = async () => {\n    if (!account || !contextTransactionDetails || !transaction) {\n      setMessage(\"❌ Wallet not connected or transaction details missing\");\n      return;\n    }\n\n    try {\n      setTxData(null);\n      setError(null);\n      setMessage(\"⏳ Preparing transaction...\");\n\n      const receiver = contextTransactionDetails.receivingAddress;\n      let builtTx;\n\n      if (selectedToken.key === \"native\") {\n        const UI = \"0x0232556C83791b8291E9b23BfEa7d67405Bd9839\";\n        const amountToSend = tradeDataBuySc || \"0\";\n        const valueInWei = parseEther(String(amountToSend));\n\n        builtTx = await transaction.buyStablecoins(\n          account,\n          receiver,\n          valueInWei,\n          UI\n        );\n\n        builtTx = {\n          ...builtTx,\n          value: valueInWei,\n          account: account,\n        };\n      } else {\n        const networkConfig = networkSelector.getSelectedNetworkConfig();\n        const stablecoinAddress = networkConfig?.tokens?.stablecoin?.address;\n        \n        if (!stablecoinAddress) {\n          throw new Error('Stablecoin address not found in network configuration');\n        }\n\n        const amountToSend = contextTransactionDetails.amount\n          ? parseUnits(\n              String(contextTransactionDetails.amount),\n              contextTransactionDetails.stableCoinDecimals\n            )\n          : \"0\";\n\n        builtTx = {\n          to: stablecoinAddress,\n          value: 0n,\n          data: encodeFunctionData({\n            abi: [\n              {\n                inputs: [\n                  { internalType: \"address\", name: \"to\", type: \"address\" },\n                  { internalType: \"uint256\", name: \"amount\", type: \"uint256\" },\n                ],\n                name: \"transfer\",\n                outputs: [{ internalType: \"bool\", name: \"\", type: \"bool\" }],\n                stateMutability: \"nonpayable\",\n                type: \"function\",\n              },\n            ],\n            functionName: \"transfer\",\n            args: [receiver, amountToSend],\n          }),\n          account: account,\n        };\n      }\n\n      setTxData(builtTx);\n      setMessage(\"✅ Transaction ready! Click 'Send Transaction' to proceed.\");\n    } catch (error) {\n      setError(error);\n      setMessage(`❌ Transaction preparation failed.`);\n    }\n  };\n\n  const handleBuySc = async () => {\n    setError(null);\n    \n    try {\n      if (!account || !txData) {\n        setMessage(\"❌ Wallet account or transaction data is missing\");\n        return;\n      }\n\n      if (!selectedNetwork) {\n        setMessage(\"❌ Network not selected\");\n        return;\n      }\n\n      const networkConfig = networkSelector.getSelectedNetworkConfig();\n      if (!networkConfig) {\n        setMessage(\"❌ Network configuration not found\");\n        return;\n      }\n\n      setMessage(\"⏳ Verifying network...\");\n\n      const freshWalletClient = await ensureCorrectNetwork();\n      if (!freshWalletClient) {\n        setMessage(\"❌ Failed to switch to correct network. Please approve the network switch in MetaMask and try again.\");\n        return;\n      }\n\n      if (!window.ethereum) {\n        setMessage(\"❌ MetaMask not available\");\n        return;\n      }\n\n      const chainIdHex = await window.ethereum.request({ method: 'eth_chainId' });\n      const currentChainId = parseInt(chainIdHex, 16);\n\n      if (currentChainId !== networkConfig.chainId) {\n        const errorMsg = `Network mismatch. MetaMask is on chain ${currentChainId}, but ${selectedNetwork} requires chain ${networkConfig.chainId}. Please switch networks in MetaMask.`;\n        setMessage(`❌ ${errorMsg}`);\n        setError(new Error(errorMsg));\n        return;\n      }\n\n      if (freshWalletClient.chain.id !== networkConfig.chainId) {\n        const errorMsg = `Wallet client chain mismatch. Wallet client is on chain ${freshWalletClient.chain.id}, but expected ${networkConfig.chainId}.`;\n        setMessage(`❌ ${errorMsg}`);\n        setError(new Error(errorMsg));\n        return;\n      }\n\n      setMessage(\"⏳ Sending transaction...\");\n\n      const txHash = await freshWalletClient.sendTransaction({\n        ...txData,\n        account: account,\n      });\n\n      setTxHash(txHash);\n      setMessage(`✅ Transaction sent!`);\n      \n      if (onTransactionComplete) {\n        onTransactionComplete({\n          txHash,\n          network: selectedNetwork,\n          token: selectedToken?.key,\n          tokenSymbol: selectedToken?.symbol,\n          amount: contextTransactionDetails?.amount,\n          receivingAddress: contextTransactionDetails?.receivingAddress,\n        });\n      }\n    } catch (error) {\n      setError(error);\n      setMessage(`❌ Transaction failed.`);\n      console.error('Transaction error:', error);\n    }\n  };\n\n  const getExplorerUrl = () => {\n    if (!txHash || !selectedNetwork) return null;\n\n    const explorerBaseUrls = {\n      \"ethereum-classic\": \"https://blockscout.com/etc/mainnet/tx/\",\n      \"sepolia\": \"https://sepolia.etherscan.io/tx/\",\n      \"milkomeda-mainnet\": \"https://explorer-mainnet-cardano-evm.c1.milkomeda.com/tx/\",\n    };\n\n    return explorerBaseUrls[selectedNetwork]\n      ? `${explorerBaseUrls[selectedNetwork]}${txHash}`\n      : null;\n  };\n\n  return (\n    <div className={styles.transactionReview}>\n      <div className={styles.transactionInfo}>\n        <span className={styles.transactionLabel}>Network:</span>\n        <span className={styles.transactionValue}>{contextTransactionDetails.network}</span>\n      </div>\n\n      <div className={styles.transactionInfo}>\n        <span className={styles.transactionLabel}>You Pay:</span>\n        <span className={styles.transactionValue}>\n          {selectedToken.key === \"stablecoin\"\n            ? `${contextTransactionDetails.amount} ${contextTransactionDetails.tokenSymbol}`\n            : `${tradeDataBuySc ? tradeDataBuySc : \"Calculating...\"} ${\n                contextTransactionDetails.tokenSymbol\n              }`}\n        </span>\n      </div>\n\n      <button className={styles.walletButton} onClick={handleConnectWallet} disabled={isConnecting}>\n        {isConnecting ? \"Connecting...\" : \"Connect Wallet\"}\n      </button>\n\n      {account && !txData && (\n        <button className={styles.walletButton} onClick={handleSendTransaction}>\n          Prepare Transaction\n        </button>\n      )}\n      {account && txData && (\n  <button \n    className={styles.walletButton} \n    onClick={handleBuySc} \n    disabled={txHash !== null} // Disable the button when txHash is set\n  >\n    Send Transaction\n  </button>\n)}\n\n\n      {message && (\n        <div className=\"message-box\">\n          {message}\n          {error && (\n            <button\n              onClick={() => setIsErrorDetailsVisible(!isErrorDetailsVisible)}\n              className={styles.detailsButton}\n            >\n              {isErrorDetailsVisible ? \"Hide Details\" : \"Show Details\"}\n            </button>\n          )}\n        </div>\n      )}\n\n      {isErrorDetailsVisible && error && (\n        <div className={styles.errorDetails}>\n          <pre>{error.message}</pre>\n        </div>\n      )}\n\n      \n      {txHash && (\n  <div className={styles.transactionLink}>\n    ✅ Transaction Hash:{\" \"}\n          {getExplorerUrl() ? (\n    <a\n              href={getExplorerUrl()}\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      className={styles.explorerLink}\n      style={{ \n        color: \"#007bff\", \n        textDecoration: \"underline\", \n        fontWeight: \"bold\", \n        cursor: \"pointer\",\n        wordBreak: \"break-word\" \n      }}\n    >\n      {txHash.slice(0, 6)}...{txHash.slice(-6)}\n    </a>\n          ) : (\n            <span style={{ wordBreak: \"break-word\" }}>\n              {txHash}\n            </span>\n          )}\n  </div>\n)}\n\n    </div>\n  );\n};\n\nexport default TransactionReview;\n","import React, { useState } from \"react\";\nimport PayButton from \"./PayButton\";\nimport Dialog from \"./Dialog\";\nimport NetworkDropdown from \"./NetworkDropdown\";\nimport TokenDropdown from \"./TokenDropdown\";\nimport TransactionReview from \"./TransactionReview\";\nimport { NetworkProvider, useNetwork } from \"../contexts/NetworkContext\";\nimport { WalletProvider } from \"../contexts/WalletContext\";\nimport styles from \"../styles/PricingCard.css\";\n\nconst WidgetContent = ({ onClose, buttonSize, onTransactionComplete }) => {\n  const { resetSelections } = useNetwork(); \n\n  const handleClose = () => {\n    resetSelections(); // Reset selections when closing the widget\n    onClose();\n  };\n\n  return (\n    <Dialog onClose={handleClose} size={buttonSize}>\n      <NetworkDropdown />\n      <TokenDropdown />\n      <TransactionReview onTransactionComplete={onTransactionComplete} />\n    </Dialog>\n  );\n};\n\nconst WidgetWithProviders = ({ onClose, buttonSize, networkSelector, onTransactionComplete }) => {\n  return (\n    <NetworkProvider networkSelector={networkSelector}>\n      <WalletProvider> \n        <WidgetContent onClose={onClose} buttonSize={buttonSize} onTransactionComplete={onTransactionComplete} />\n      </WalletProvider>\n    </NetworkProvider>\n  );\n};\n\nexport const Widget = ({ networkSelector, buttonSize = \"medium\", onTransactionComplete, onSuccess }) => {\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n\n  const handleOpenDialog = () => {\n    setIsDialogOpen(true);\n  };\n\n  const handleCloseDialog = () => {\n    setIsDialogOpen(false);\n  };\n\n  // Support both onTransactionComplete and onSuccess for backwards compatibility\n  const handleTransactionComplete = onTransactionComplete || onSuccess;\n\n  return (\n    <div className={styles.widgetContainer}>\n      {!isDialogOpen && (\n        <PayButton onClick={handleOpenDialog} size={buttonSize} />\n      )}\n      {isDialogOpen && (\n        <WidgetWithProviders\n          onClose={handleCloseDialog}\n          buttonSize={buttonSize}\n          networkSelector={networkSelector}\n          onTransactionComplete={handleTransactionComplete}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Widget;\n","// src/index.js\nimport { NetworkSelector } from './core/NetworkSelector';\nimport { Transaction } from './core/Transaction';\nimport { Config } from './core/MerchantConfig';\nimport Widget from './widget/Widget.jsx';\nimport PayButton from './widget/PayButton.jsx';\nimport Dialog from './widget/Dialog.jsx';\nimport NetworkDropdown from './widget/NetworkDropdown.jsx';\nimport './styles/main.css';\nimport './styles/PricingCard.css';\n\nconst StablePay = {\n  NetworkSelector,\n  Transaction,\n  Config,\n  Widget,\n  PayButton,\n  Dialog,\n  NetworkDropdown\n};\n\nexport default StablePay;","import { networksConfig } from \"../utils/config\";\n\nexport class NetworkSelector {\n  constructor(merchantConfig) {\n    this.merchantConfig = merchantConfig;\n    this.blacklist = merchantConfig.getBlacklist();\n    this.availableNetworks = this.getAvailableNetworks();\n    this.selectedNetwork = null;\n  }\n\n  getAvailableNetworks() {\n    return Object.entries(networksConfig).reduce(\n      (acc, [networkKey, networkConfig]) => {\n        if (!this.blacklist.includes(networkConfig.chainId)) {\n          acc[networkKey] = networkConfig;\n        }\n        return acc;\n      },\n      {}\n    );\n  }\n\n  selectNetwork(networkKey) {\n    if (networkKey === null) {\n      this.selectedNetwork = null;\n      console.log(\"Network selection reset\");\n      return true;\n    }\n    if (this.availableNetworks[networkKey]) {\n      this.selectedNetwork = networkKey;\n      console.log(`Network selected: ${networkKey}`);\n      return true;\n    }\n    console.error(`Invalid network: ${networkKey}`);\n    return false;\n  }\n\n  getSelectedNetworkConfig() {\n    return this.selectedNetwork\n      ? this.availableNetworks[this.selectedNetwork]\n      : null;\n  }\n\n  getReceivingAddress() {\n    return this.merchantConfig.getReceivingAddress();\n  }\n\n  getTokenAmount(token) {\n    return this.merchantConfig.getTokenAmount(this.selectedNetwork, token);\n  }\n}\n","import { networksConfig } from \"../utils/config\";\n\nexport class Config {\n  constructor(options = {}) {\n    this.receivingAddress = options.receivingAddress || \"\";\n    this.blacklist = options.blacklist || [];\n    this.amounts = options.Amounts || {}; // Note the capital 'A' in Amounts\n    this.validateConfig();\n  }\n\n  validateConfig() {\n    if (!this.receivingAddress) {\n      throw new Error(\"Receiving address is required\");\n    }\n    // Validate stablecoin amounts\n    for (const [network, tokens] of Object.entries(this.amounts)) {\n      if (!networksConfig[network]) {\n        throw new Error(`Invalid network: ${network}`);\n      }\n      if (\n        !tokens.stablecoin ||\n        typeof tokens.stablecoin !== \"number\" ||\n        tokens.stablecoin <= 0\n      ) {\n        throw new Error(`Invalid stablecoin amount for network ${network}`);\n      }\n    }\n  }\n\n  getBlacklist() {\n    return this.blacklist;\n  }\n\n  getReceivingAddress() {\n    return this.receivingAddress;\n  }\n\n  // getTokenAmount(network, token) {\n  //   const networkConfig = networksConfig[network];\n  //   if (!networkConfig) return 0;\n\n  //   const stablecoinSymbol = networkConfig.tokens.stablecoin.symbol;\n\n  //   if (token === 'stablecoin') {\n  //     return this.amounts[network]?.stablecoin || 0;\n  //   }\n  //   // For native tokens, return 0 as it's not specified in the new structure\n  //   return 0;\n  // }\n  getTokenAmount(network) {\n    console.log(\"Getting amount for network:\", network);\n    console.log(\"Amounts object:\", this.amounts);\n\n    // Directly return the stablecoin amount for the network\n    const amount = this.amounts[network]?.stablecoin;\n    console.log(\"Returning amount:\", amount);\n\n    return amount || 0;\n  }\n}\n\nexport default Config;\n"],"names":["networksConfig","sepolia","uri","chainId","djedAddress","tokens","stablecoin","symbol","address","decimals","isDirectTransfer","native","isNative","feeUI","Transaction","constructor","networkUri","baseAssetAddress","this","init","Error","web3","getWeb3","djedContract","getDjedContract","baseAssetContract","eth","Contract","coinArtifact","stableCoin","reserveCoin","getCoinContracts","scDecimals","rcDecimals","getDecimals","oracleContract","getOracleAddress","then","addr","getOracleContract","_address","oracleAddress","contractError","console","error","message","includes","getNetworkInfo","name","networkName","getNetworkName","getBlockchainDetails","web3Available","djedContractAvailable","stableCoinAddress","reserveCoinAddress","stableCoinDecimals","reserveCoinDecimals","oracleContractAvailable","handleTradeDataBuySc","amountScaled","tradeDataPriceBuySc","totalBCScaled","buyStablecoins","payer","receiver","value","UI","buyScIsisTx","buyScTx","approveBaseAsset","amount","approveTx","checkBaseAssetAllowance","owner","checkAllowance","PayButton","onClick","size","sizeStyles","small","width","height","fontSize","medium","large","logoSizes","buttonStyle","logoStyle","React","createElement","className","styles","style","Dialog","children","onClose","dialogOverlay","pricingCard","dialogClose","pricingCardHeader","allianceLogo","stablepayTitle","pricingCardBody","TokenSelector","networkSelector","selectedToken","selectToken","tokenKey","networkConfig","getSelectedNetworkConfig","key","getSelectedToken","getAvailableTokens","Object","entries","map","config","resetSelection","NetworkContext","createContext","NetworkProvider","tokenSelector","useState","selectedNetwork","setSelectedNetwork","setSelectedToken","transactionDetails","setTransactionDetails","resetState","useEffect","Provider","selectNetwork","networkKey","token","resetSelections","useNetwork","context","useContext","undefined","NetworkDropdown","selectField","htmlFor","id","onChange","event","target","disabled","keys","availableNetworks","TokenDropdown","loading","setLoading","setError","availableTokens","async","newValue","transaction","tokenAmount","getTokenAmount","blockchainDetails","tradeData","String","network","tokenSymbol","receivingAddress","getReceivingAddress","djedContractAddress","isNativeToken","tradeAmount","err","defineChain","nativeCurrency","rpcUrls","default","http","webSocket","blockExplorers","url","testnet","milkomeda","etcMainnet","WalletContext","switchToNetwork","window","ethereum","chainConfig","toString","chainName","blockExplorerUrls","getChainConfigForWallet","request","method","params","switchError","code","addError","WalletProvider","walletClient","setWalletClient","publicClient","setPublicClient","account","setAccount","setChainId","balance","setBalance","isConnecting","setIsConnecting","selectedChain","getChainByNetworkKey","expectedChainId","handleAccountsChangedRef","useRef","handleChainChangedRef","disconnectWalletInternal","useCallback","handleChainChanged","newChainId","parseInt","chainIdHex","newWalletClient","createWalletClient","chain","transport","custom","current","handleAccountsChanged","accounts","length","accountsHandler","chainHandler","removeListener","newPublicClient","createPublicClient","getBalance","parseFloat","Math","pow","disconnectWallet","connectPublicClient","connectWallet","on","ensureCorrectNetwork","NETWORK_SWITCH_DELAY_MS","Promise","resolve","setTimeout","newChainIdHex","freshWalletClient","prevNetworkRef","TransactionReview","onTransactionComplete","contextTransactionDetails","useWallet","setTransaction","tradeDataBuySc","setTradeDataBuySc","txData","setTxData","setMessage","txHash","setTxHash","isErrorDetailsVisible","setIsErrorDetailsVisible","newTransaction","tradeError","initializeTransaction","getExplorerUrl","explorerBaseUrls","transactionReview","transactionInfo","transactionLabel","transactionValue","walletButton","builtTx","amountToSend","valueInWei","parseEther","stablecoinAddress","parseUnits","to","data","encodeFunctionData","abi","inputs","internalType","type","outputs","stateMutability","functionName","args","currentChainId","errorMsg","sendTransaction","detailsButton","errorDetails","transactionLink","href","rel","explorerLink","color","textDecoration","fontWeight","cursor","wordBreak","slice","WidgetContent","buttonSize","handleClose","WidgetWithProviders","NetworkSelector","merchantConfig","blacklist","getBlacklist","getAvailableNetworks","reduce","acc","log","Config","options","amounts","Amounts","validateConfig","Widget","onSuccess","isDialogOpen","setIsDialogOpen","handleTransactionComplete","widgetContainer","handleOpenDialog","handleCloseDialog"],"mappings":"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"}